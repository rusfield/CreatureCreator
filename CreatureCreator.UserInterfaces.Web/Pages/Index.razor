@page "/"
@using CreatureCreator.Infrastructure.Services
@using Infrastructure.Enums

@inject CreatureCreatorService Service
@inject NavigationManager NavigationManager


@code
{
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        var startupCheck = await Service.ValidateDatabase();
        if (startupCheck.Any(s => s.Status != ValidationStatuses.OK))
            NavigationManager.NavigateTo("health");
        else
            NavigationManager.NavigateTo("dashboard");
    }
}